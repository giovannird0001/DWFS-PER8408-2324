# API del juego hunde la flota

Servicio para juego hunde la flota.

Operaciones:
* Crear una partida (POST `/battles`)
* Eliminar una partida (DELETE `/battles/{battleId}`)
* Modificar una partida
* Iniciar o finalizar una partida (DELETE `/battles/{battleId}`)
* Consultar datos de una partida (GET `/battles/{battleId}`)
* Añadir/eliminar barcos de un jugador en una partida
* Consultar barcos de un jugador en una partida (POST `/battles/{battleId}/players/{playerId}/ships`)
* Registrar disparos en una partida (POST `/battles/{battleId}/players/{playerId}/shots`)
* Crear/eliminar usuario (POST `/players`, DELETE `/players/{playerId}`)
* Obtener datos de un usuario (GET `/players/{playerId}`)

|Método HTTP | URI                                               | Query Params | Cuerpo de la Petición                                                       | Cuerpo de la Respuesta                                                                                                                                                       | Códigos de Respuesta                                                       |
|-------------|---------------------------------------------------|--------------|-----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|
| GET         | /battles/{battleId}                               | N/A          | N/A                                                                         | `{"battleId": 1, "player1": {"id": "jmelero", "ships": [], "shots": []}, "player2": {"id": "jasicilia", "ships":[],  "shots": []}, "estado": "no iniciada", "ganador": null}`   | 200 OK<br/>204 No Content<br/>500 Internal Server Error                    |
| POST        | /battles                                          | N/A          | `{"player1Id": "mabarcelona", "player2Id": "lgarcia"}`                      | `{"battleId": 2, "player1": {"id": "mabarcelona", "ships": [], "shots": []}, "player2": {"id": "lgarcia", "ships":[],  "shots": []}, "estado": "no iniciada", "ganador": null}` | 200 OK<br/>400 Bad Request<br/>500 Internal Server Error                   |
| PUT         | /battles/{battleId}                               | N/A          | `{"player1Id": "jrbermejo", "player2Id": "sroca", "estado": "en progreso"}` | `{"battleId": 1, "player1": {"id": "jrbermejo", "ships": [], "shots": []}, "player2": {"id": "sroca", "ships":[],  "shots": []}, "estado": "en progreso", "ganador": null}`     | 200 OK<br/>400 Bad Request<br/>404 Not Found<br/>500 Internal Server Error |
| PATCH       | /battles/{battleId}                               | N/A          | `{"estado": "en progreso"}`                                                 | `{"battleId": 2, "player1": {"id": "mabarcelona", "ships": [], "shots": []}, "player2": {"id": "lgarcia", "ships": [], "shots": []}, "estado": "en progreso", "ganador": null}` | 200 OK<br/>400 Bad Request<br/>404 Not Found<br/>500 Internal Server Error |
| DELETE      | /battles/{battleId}                               | N/A          | N/A                                                                         | `{"message": "Game deleted"}`                                                                                                                                                | 200 OK<br/>404 Not Found<br/>500 Internal Server Error                     |
| GET         | /battles/{battleId}/players/{playerId}/ships      | N/A          | N/A                                                                         | `{"ships": [{"id": 1, "coord": [[1, 1], [1, 2], [1, 3]]}, {"id": 2, "coord": [[4, 6], [5, 6]]}}`                                                                             | 200 OK<br/>204 No Content<br/>500 Internal Server Error                    |
| POST        | /battles/{battleId}/players/{playerId}/ships      | N/A          | `{"coord": [[2, 3], [3, 3], [4, 3], [5, 3]]}`                               | `{"ships": [{"id": 1, "coord": [[1, 1], [1, 2], [1, 3]]}, {"id": 2, "coord": [[4, 6], [5, 6]]}, {"id": 3, "coord": [[2, 3], [3, 3], [4, 3], [5, 3]]]}}`                      | 200 OK<br/>400 Bad Request<br/>500 Internal Server Error                   |
| DELETE      | /battles/{battleId}/players/{playerId}/ships/{shipId} | N/A       | N/A                                                                         | `{"message": "Boat deleted"}`                                                                                                                                                | 200 OK<br/>404 Not Found<br/>500 Internal Server Error                     |
| POST        | /battles/{battleId}/players/{playerId}/shots      | N/A          | `{"coord": [2, 3]}`                                                         | `{"message": "Hit", "shots": [[5, 5], [2, 3]]}`                                                                                                                              | 200 OK<br/>400 Bad Request<br/>500 Internal Server Error                   |
| GET         | /players/{playerId}                               | N/A          | N/A                                                                         | `{"id": "jmelero", "email": "player1@email.com", "totalGames": 5, "totalWins": 3}`                                                                                           | 200 OK<br/>204 No Content<br/>500 Internal Server Error                    |
| POST        | /players                                          | N/A          | `{"id": "sroca", "email": "player2@email.com"}`                             | `{"id": "sroca", "email": "player2@email.com", "totalGames": 0, "totalWins": 0}`                                                                                             | 200 OK<br/>400 Bad Request<br/>500 Internal Server Error                   |
| DELETE      | /players/{playerId}                               | N/A          | N/A                                                                         | `{"message": "Player deleted"}`                                                                                                                                              | 200 OK<br/>404 Not Found<br/>500 Internal Server Error                     |
